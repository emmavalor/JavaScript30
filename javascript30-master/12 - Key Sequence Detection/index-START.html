<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Key Detection</title>
  <script type="text/javascript" src="https://www.cornify.com/js/cornify.js"></script>
</head>
<body>

	<h1>Seras-tu trouver mon code secret ?</h1>

	<p>Indice, c'est un code composé seulement de lettres !</p>

	<span></span>

	<style type="text/css">
		body{
			background: url(oldpaper.jpg);
		}

		h1{
			text-align: center;
			font-size: 3em;
			color: #A45C40;
		}

		p, span{
			color: #A45C40;
			margin-left: 30px;
			margin-top: 200px;
			font-size: 40px;
		}

		span{
			text-shadow: 34px 34px 2px;
		}

	

	</style>

	<script>

	var secretCode = "emma";
	var clientCode = [];

document.addEventListener("keydown", function(event) {
	clientCode.push(event.key);
	console.log(clientCode);
	document.querySelector("span").innerHTML = clientCode;

	if(clientCode.length > secretCode.length){
		document.querySelector("span").innerHTML = "Réessaye !&#128521;";
		clientCode = [];
	}

	 if (clientCode.join('').includes(secretCode)) {
    	cornify_add();
    	document.querySelector("h1").innerHTML = `Bien joué tu l'as trouvé, on ne peut donc rien te cacher &#129323;`;
  	}
});

// var secretCode = ["e","m","m","a"];
// 	var clientCode = [];

// document.addEventListener("keydown", function(event) {
// 	clientCode.push(event.key);
// 	console.log(clientCode);

// 	if(clientCode.length > secretCode.length){
// 		clientCode = [];
// 	}

// 	if(arrayEquals(clientCode, secretCode)){
// 		cornify_add();
// 	}

// 	function arrayEquals(a, b) {
//   return Array.isArray(a) &&
//     Array.isArray(b) &&
//     a.length === b.length &&
//     a.every((val, index) => val === b[index]);
// }
	
// });
	</script>

	</body>
</html>
